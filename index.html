<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Awakening in the Flood</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Helvetica Neue', Arial, sans-serif;
            background: #000;
            color: #fff;
            overflow-x: hidden;
        }

        html {
            scroll-behavior: smooth;
            scroll-snap-type: y proximity;
        }

        /* ========== GLOBAL: LETTERBOXING (宽银幕画幅) ========== */
        body::before,
        body::after {
            content: '';
            position: fixed;
            left: 0;
            width: 100%;
            height: 60px;
            background: #000;
            z-index: 9999;
            pointer-events: none;
        }

        body::before {
            top: 0;
            border-bottom: 1px solid #222;
        }

        body::after {
            bottom: 0;
            border-top: 1px solid #222;
        }

        /* All content must respect letterbox */
        section {
            min-height: 100vh;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        /* ========== STAGE 1: OPENING CREDITS ========== */
        #opening {
            background: #000;
            position: relative;
            z-index: 100;
        }

        /* Credits Sequence Container */
        .credits-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 5;
        }

        .credit-slide {
            position: absolute;
            text-align: center;
            opacity: 0;
            pointer-events: none;
        }

        /* Credit 1: Xinrui Lyu Perform */
        .credit-1 {
            animation: creditFade 6s ease-in-out 0s forwards;
        }

        .credit-1 h2 {
            font-size: 2.5rem;
            font-weight: 300;
            letter-spacing: 0.3em;
            text-transform: uppercase;
        }

        /* Credit 2: Project Info */
        .credit-2 {
            animation: creditFade 6s ease-in-out 6s forwards;
        }

        .credit-2 p {
            font-size: 1.2rem;
            font-weight: 300;
            letter-spacing: 0.15em;
            line-height: 1.8;
        }

        /* Credit 3: Main Title */
        .credit-3 {
            animation: titleFade 3s ease-in-out 12s forwards;
        }

        .credit-3 h1 {
            font-size: 4rem;
            font-weight: 300;
            letter-spacing: 0.4em;
            text-transform: uppercase;
            margin-bottom: 20px;
        }

        .credit-3 p {
            font-size: 1.3rem;
            letter-spacing: 0.2em;
            opacity: 0.8;
        }

        /* Credit Animations */
        @keyframes creditFade {
            0% { opacity: 0; }
            15% { opacity: 1; }
            85% { opacity: 1; }
            100% { opacity: 0; }
        }

        @keyframes titleFade {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }

        /* Opening Shot Video Background */
        .opening-video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0;
            filter: saturate(1.8) contrast(1.1);
            z-index: 1;
        }

        .opening-video.visible {
            animation: videoFadeIn 4s ease-in 12s forwards;
        }

        @keyframes videoFadeIn {
            to { opacity: 1; }
        }

        .video-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.3);
            z-index: 2;
        }

        /* Scroll Indicator */
        .scroll-cue {
            position: absolute;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10000;
            opacity: 0;
            cursor: pointer;
            transition: transform 0.3s ease, opacity 0.3s ease;
        }

        .scroll-cue:hover {
            transform: translateX(-50%) translateY(-5px);
            opacity: 1 !important;
        }

        .scroll-cue.visible {
            animation: cueFadeIn 1.5s ease-in 13s forwards, pulseFloat 3s ease-in-out 14.5s infinite;
        }

        @keyframes cueFadeIn {
            to { opacity: 1; }
        }

        @keyframes pulseFloat {
            0%, 100% { transform: translateX(-50%) translateY(0); opacity: 0.6; }
            50% { transform: translateX(-50%) translateY(-15px); opacity: 1; }
        }

        .arrow-down {
            width: 30px;
            height: 30px;
            border-left: 2px solid #fff;
            border-bottom: 2px solid #fff;
            transform: rotate(-45deg);
            transition: border-color 0.3s ease;
        }

        .scroll-cue:hover .arrow-down {
            border-color: #f5576c;
        }

        /* ========== STAGE 2: THE FLOOD ========== */
        #flood {
            background: #000;
            flex-direction: row;
            padding: 0;
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 1s ease, transform 1s ease;
            height: 100vh;
            position: relative;
        }

        /* ⑦ Smooth transition when scrolling into view */
        #flood.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .flood-left {
            width: 50%;
            height: 100vh;
            position: relative;
            overflow: hidden;
        }

        /* ⑧ Rapid carousel effect - Info Torrent */
        .flood-carousel {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 0.8s ease;
        }

        #flood.visible .flood-carousel {
            opacity: 1;
        }

        .flood-image {
            position: absolute;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0;
            filter: saturate(2.5) contrast(1.4);
            transform: scale(1.1);
        }

        /* Faster, more aggressive cycling for "torrent" effect */
        .flood-image:nth-child(1) { 
            animation: rapidFlood 3s infinite 0s; 
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }
        .flood-image:nth-child(2) { 
            animation: rapidFlood 3s infinite 0.75s; 
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }
        .flood-image:nth-child(3) { 
            animation: rapidFlood 3s infinite 1.5s; 
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
        }
        .flood-image:nth-child(4) { 
            animation: rapidFlood 3s infinite 2.25s; 
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
        }

        @keyframes rapidFlood {
            0%, 25%, 100% { 
                opacity: 0; 
                transform: scale(1.15) rotate(0.5deg);
            }
            10%, 15% { 
                opacity: 1; 
                transform: scale(1) rotate(0deg);
            }
        }

        .flood-right {
            width: 50%;
            height: 100vh;
            background: #000;
            position: relative;
            overflow-y: scroll;
            overflow-x: hidden;
            -webkit-overflow-scrolling: touch;
        }

        /* Scrollable content area */
        .flood-content {
            padding: 100px 80px 300px 80px;
            min-height: 150vh;
            opacity: 0;
            transform: translateY(40px);
        }

        .flood-content.visible {
            animation: slideUp 1.5s ease-out forwards;
        }

        @keyframes slideUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Lead quote - appears first */
        .flood-content h2 {
            font-size: 2.8rem;
            font-weight: 300;
            line-height: 1.5;
            margin-bottom: 80px;
            padding-bottom: 40px;
            border-bottom: 1px solid #333;
        }

        /* Scrollable text blocks */
        .flood-content p {
            font-size: 1.15rem;
            line-height: 2;
            color: #bbb;
            margin-bottom: 40px;
            opacity: 0;
            transform: translateY(20px);
        }

        /* Staggered fade-in for paragraphs as user scrolls */
        .flood-content.visible p {
            animation: fadeInParagraph 0.8s ease-out forwards;
        }

        .flood-content.visible p:nth-child(2) { animation-delay: 0.3s; }
        .flood-content.visible p:nth-child(3) { animation-delay: 0.6s; }
        .flood-content.visible p:nth-child(4) { animation-delay: 0.9s; }
        .flood-content.visible p:nth-child(5) { animation-delay: 1.2s; }
        .flood-content.visible p:nth-child(6) { animation-delay: 1.5s; }
        .flood-content.visible p:nth-child(7) { animation-delay: 1.8s; }

        @keyframes fadeInParagraph {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Custom scrollbar for right side */
        .flood-right::-webkit-scrollbar {
            width: 8px;
        }

        .flood-right::-webkit-scrollbar-track {
            background: #111;
        }

        .flood-right::-webkit-scrollbar-thumb {
            background: #333;
            border-radius: 4px;
        }

        .flood-right::-webkit-scrollbar-thumb:hover {
            background: #555;
        }

        /* ========== CHAPTER CARD: TRANSITION ========== */
        #chapter-breaths {
            background: #000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            scroll-snap-align: start;
            scroll-snap-stop: always;
        }

        #chapter-breaths.visible {
            animation: chapterFadeIn 2s ease-in forwards;
        }

        @keyframes chapterFadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }

        .chapter-title {
            text-align: center;
            opacity: 0;
        }

        #chapter-breaths.visible .chapter-title {
            animation: titleFadeIn 1.5s ease-in 0.5s forwards;
        }

        @keyframes titleFadeIn {
            to { opacity: 1; }
        }

        .chapter-title h3 {
            font-size: 4rem;
            font-weight: 300;
            letter-spacing: 0.5em;
            text-transform: uppercase;
            margin: 0;
        }

        .chapter-title p {
            font-size: 1rem;
            letter-spacing: 0.3em;
            text-transform: uppercase;
            margin-top: 20px;
            opacity: 0.6;
        }
        /* ========== STAGE 3: THE BREATHS (10 Poems) ========== */
        .breath-section {
            position: relative;
            background: #000;
            scroll-snap-align: start;
            scroll-snap-stop: always;
        }

        /* ⑫ Background video for each poem */
        .breath-video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: 0;
            filter: saturate(1.8) contrast(1.1);
        }

        /* Ensure video fills entire viewport between letterbox bars */
        .breath-section {
            position: relative;
            background: #000;
            scroll-snap-align: start;
            scroll-snap-stop: always;
            min-height: 100vh;
            width: 100vw;
            overflow: hidden;
        }

        /* ⑫ Poem Frame - Fuzzy-to-Clear Entry */
        .poem-frame {
            position: relative;
            z-index: 2;
            background: rgba(255, 255, 255, 0.98);
            color: #000;
            padding: 60px 80px;
            max-width: 750px;
            text-align: center;
            opacity: 0;
            filter: blur(15px);
            transform: scale(0.95);
            transition: transform 0.4s ease;
            /* NO BORDER - removed */
        }

        /* ⑭ Hover effect */
        .poem-frame:hover {
            transform: scale(1.02);
            cursor: default;
        }

        .breath-section.visible .poem-frame {
            animation: breathAwaken 2.5s ease-out forwards, breathing 5s ease-in-out 2.5s infinite;
        }

        /* ⑫ Awaken effect - from blur to clarity (Fuzzy-to-Clear) */
        @keyframes breathAwaken {
            to {
                opacity: 1;
                filter: blur(0);
                transform: scale(1);
            }
        }

        /* ⑬ Breathing pulse effect (Idle state) */
        @keyframes breathing {
            0%, 100% { 
                opacity: 0.95;
            }
            50% { 
                opacity: 1;
            }
        }

        .poem-frame p {
            font-size: 1.9rem;
            line-height: 1.7;
            font-weight: 400;
            margin-bottom: 35px;
            letter-spacing: 0.02em;
        }

        /* ⑫ Location fades in after text becomes clear */
        .poem-location {
            font-size: 0.85rem;
            letter-spacing: 0.25em;
            text-transform: uppercase;
            opacity: 0;
            font-weight: 300;
        }

        .breath-section.visible .poem-location {
            animation: locationFadeIn 1s ease-in 2.5s forwards;
        }

        @keyframes locationFadeIn {
            to { opacity: 0.5; }
        }

        /* Vibrant saturated backgrounds for each poem */
        #breath1 { 
            background-image: url('https://drive.google.com/uc?export=view&id=1--lzc0olKoXIEzLP8uv_K3x4gJSiFQ1Z');
            background-size: cover;
            background-position: center;
        }
        #breath2 { 
            background-image: url('https://drive.google.com/uc?export=view&id=1A-Vau6VRQYLhD51NBu9Xdt0EW-TAhl7_');
            background-size: cover;
            background-position: center;
        }
        #breath3 { 
            background-image: url('https://drive.google.com/uc?export=view&id=1CINwcB2S3krnzXRvtj192bwIj602MLm0');
            background-size: cover;
            background-position: center;
        }
        #breath4 { 
            background-image: url('https://drive.google.com/uc?export=view&id=1GneinHOfm6-IAbwm0y3Gapq5giMEm-Ni');
            background-size: cover;
            background-position: center;
        }
        #breath5 { 
            background-image: url('https://drive.google.com/uc?export=view&id=1KCaBwEnkZbE5MPzbXHS1E0kmX7Oqio3q');
            background-size: cover;
            background-position: center;
        }
        #breath6 { 
            background-image: url('https://drive.google.com/uc?export=view&id=1dfp_EbJCpolYfMglKjEp33ybxBFmIjg3');
            background-size: cover;
            background-position: center;
        }
        #breath7 { 
            background-image: url('https://drive.google.com/uc?export=view&id=1kY7FLnqX0E95jGvVjWg9006uPyVO1JBs');
            background-size: cover;
            background-position: center;
        }
        #breath8 { 
            background-image: url('https://drive.google.com/uc?export=view&id=1wQ00HgFSIpUcM_w7vdkcCWIV6HkQ6I8i');
            background-size: cover;
            background-position: center;
        }
        #breath9 { 
            background-image: url('https://drive.google.com/uc?export=view&id=1xEZdM9VzPySy-WBE9k4zGG-A6maOrgf6');
            background-size: cover;
            background-position: center;
        }
        #breath10 { 
            background-image: url('https://drive.google.com/uc?export=view&id=1zPN5OORXzbdhQDmxtLPOyu-UplwJNlD6');
            background-size: cover;
            background-position: center;
        }

        /* ========== CHAPTER CARD II: THE FLOOD ========== */
        #chapter-flood {
            background: #000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            scroll-snap-align: start;
            scroll-snap-stop: always;
        }

        #chapter-flood.visible {
            animation: chapterFadeIn 2s ease-in forwards;
        }

        #chapter-flood .chapter-title {
            text-align: center;
            opacity: 0;
        }

        #chapter-flood.visible .chapter-title {
            animation: titleFadeIn 1.5s ease-in 0.5s forwards;
        }
        #grid {
            background: #000;
            padding: 100px 50px;
            min-height: 100vh;
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 25px;
            max-width: 1500px;
            margin: 0 auto;
            justify-items: center;
        }

        /* Center last row if incomplete */
        .grid-container::after {
            content: '';
            grid-column: 1 / -1;
        }

        .grid-item {
            position: relative;
            height: 320px;
            width: 100%;
            max-width: 450px;
            overflow: hidden;
            cursor: pointer;
            /* NO BORDER - removed */
        }

        .grid-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: saturate(1.8) contrast(1.2);
            transition: filter 0.6s ease, transform 0.6s ease;
        }

        /* Hover: Color freezes to black & white */
        .grid-item:hover img {
            filter: grayscale(100%) contrast(1.3);
            transform: scale(1.08);
        }

        /* Wes Anderson frame on hover */
        .grid-item::after {
            content: '';
            position: absolute;
            top: 10px;
            left: 10px;
            right: 10px;
            bottom: 10px;
            border: 3px solid #fff;
            opacity: 0;
            transition: opacity 0.6s ease;
            pointer-events: none;
        }

        .grid-item:hover::after {
            opacity: 1;
        }

        /* ========== STAGE 5: DOCUMENTATION ========== */
        #documentation {
            background: #000;
            padding: 120px 50px;
            min-height: 100vh;
        }

        .doc-header {
            text-align: center;
            margin-bottom: 100px;
            opacity: 0;
            transform: translateY(30px);
        }

        .doc-header.visible {
            animation: slideUp 1s ease-out forwards;
        }

        .doc-header h2 {
            font-size: 3rem;
            font-weight: 300;
            letter-spacing: 0.3em;
            text-transform: uppercase;
            margin-bottom: 30px;
            color: #fff;
        }

        .doc-header p {
            font-size: 1.2rem;
            color: #bbb;
            letter-spacing: 0.1em;
            font-weight: 300;
        }

        .timeline {
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Process blocks - centered layout */
        .timeline-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 120px;
            opacity: 0;
            transform: translateY(50px);
        }

        .timeline-item.visible {
            animation: fadeInUp 1.2s ease-out forwards;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .timeline-content {
            text-align: center;
            max-width: 800px;
            margin-bottom: 40px;
        }

        .timeline-content h3 {
            font-size: 2rem;
            margin-bottom: 30px;
            color: #fff;
            font-weight: 300;
            letter-spacing: 0.2em;
            text-transform: uppercase;
        }

        .timeline-content p {
            font-size: 1.15rem;
            line-height: 1.9;
            color: #bbb;
            font-weight: 300;
        }

        .timeline-content p strong {
            color: #fff;
            font-weight: 400;
        }

        /* Media container - centered */
        .timeline-media {
            width: 100%;
            max-width: 1000px;
            min-height: 400px;
            background: #1a1a1a;
            border: 3px solid #333;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .timeline-media img,
        .timeline-media video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Video specific styles */
        .timeline-media video {
            max-height: 600px;
        }

        /* Photo gallery for production block */
        .photo-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            width: 100%;
            max-width: 1000px;
            padding: 20px;
            background: #1a1a1a;
            border: 3px solid #333;
        }

        .photo-gallery img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .photo-gallery img:hover {
            transform: scale(1.05);
        }

        /* Mixed media container for intervention block */
        .mixed-media {
            width: 100%;
            max-width: 1200px;
            display: flex;
            flex-direction: column;
            gap: 30px;
        }

        .media-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }

        .media-item {
            background: #1a1a1a;
            border: 3px solid #333;
            overflow: hidden;
            min-height: 300px;
        }

        .media-item video,
        .media-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* ========== STAGE 6: REFLECTION ========== */
        #reflection {
            background: #000;
            flex-direction: row;
            padding: 0;
        }

        .reflection-left {
            width: 50%;
            height: 100vh;
            position: relative;
            overflow: hidden;
        }

        /* Flowing video or gradient */
        .reflection-video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: saturate(1.9);
        }

        .reflection-gradient {
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            background-size: 400% 400%;
            animation: gradientFlow 20s ease infinite;
        }

        @keyframes gradientFlow {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .reflection-right {
            width: 50%;
            height: 100vh;
            background: #000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 0 80px;
        }

        .reflection-content h2 {
            font-size: 2.8rem;
            font-weight: 300;
            line-height: 1.5;
            margin-bottom: 50px;
        }

        .reflection-content p {
            font-size: 1.15rem;
            line-height: 1.9;
            color: #bbb;
            margin-bottom: 25px;
        }

        /* Dim audio on hover */
        .reflection-right:hover ~ .reflection-left {
            opacity: 0.5;
            transition: opacity 0.8s ease;
        }

        /* ========== FOOTER ========== */
        footer {
            background: #000;
            text-align: center;
            padding: 60px 40px;
            border-top: 1px solid #222;
        }

        footer p {
            color: #555;
            font-size: 0.9rem;
            letter-spacing: 0.15em;
            line-height: 1.8;
        }

        /* ========== RESPONSIVE ========== */
        @media (max-width: 968px) {
            body::before, body::after {
                height: 40px;
            }

            .credit-1 h2 { font-size: 1.8rem; }
            .credit-3 h1 { font-size: 2.5rem; }

            #flood, #reflection {
                flex-direction: column;
            }

            .flood-left, .flood-right,
            .reflection-left, .reflection-right {
                width: 100%;
                height: 50vh;
            }

            .poem-frame {
                padding: 40px;
                max-width: 90%;
            }

            .poem-frame p {
                font-size: 1.4rem;
            }

            .timeline-item {
                flex-direction: column !important;
                gap: 30px;
            }

            .grid-container {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>

    <!-- STAGE 1: OPENING CREDITS -->
    <section id="opening">
        <!-- Background Video (fades in at Credit 3) -->
        <video class="opening-video" muted loop playsinline>
            <source src="videos/open.mp4" type="video/mp4">
        </video>
        <div class="video-overlay"></div>

        <!-- Credits Sequence -->
        <div class="credits-container">
            <!-- Credit 1: Performer -->
            <div class="credit-slide credit-1">
                <h2>Xinrui Lyu Presents</h2>
            </div>

            <!-- Credit 2: Project Info -->
            <div class="credit-slide credit-2">
                <p>Project Three: Street Intervention<br>Public/Private Voice</p>
            </div>

            <!-- Credit 3: Main Title -->
            <div class="credit-slide credit-3">
                <h1>Awakening in the Flood</h1>
            </div>
        </div>

        <!-- Scroll Cue -->
        <div class="scroll-cue">
            <div class="arrow-down"></div>
        </div>
    </section>

    <!-- STAGE 2: THE FLOOD -->
    <section id="flood">
        <div class="flood-left">
            <div class="flood-carousel">
                <div class="flood-image"></div>
                <div class="flood-image"></div>
                <div class="flood-image"></div>
                <div class="flood-image"></div>
            </div>
        </div>
        <div class="flood-right">
            <div class="flood-content">
                <h2>A poem awakens in the flood of urban information</h2>
                
                <p>On the streets of Toronto, ten poems stand in black and white— amid the flood of color, like breath itself, creating pockets of pause.</p>
                
                <p>This is a quiet resistance.<br>A collective awakening.</p>
                
                <p>When your gaze meets a line of poetry,<br>the city's frequency skips a beat.<br>In that second, the world recalibrates.</p>
                
                <p>Breathing becomes the most lucid revolution.</p>
                
                <p>This project is submitted for the FA/PANF 2500 course as "Project Three: Street Intervention — Public/Private Voice."</p>
                
                <p>The core task was to develop a method for generating ten standalone sentences and introducing them as "private voices" into "public space."</p>
                
                <p>My concept, "Awakening in the Torrent," frames the city as a saturated flood of advertisements and information. In response, I created ten black-and-white poetic lines — each acting as a pause, a breath.</p>
                
                <p>I printed these verses and placed, pasted, or installed them across downtown Toronto: on bulletin boards, in phone booths, against walls.</p>
                
                <p>This website serves as a visual diary of the intervention — tracing the journey from conception and production to final placement — capturing the moments when these private voices were discovered in public view.</p>
            </div>
        </div>
    </section>

    <!-- CHAPTER CARD: THE BREATHS -->
    <section id="chapter-breaths">
        <div class="chapter-title">
            <h3>I. The Breaths</h3>
            <p>Ten Poems in the Flood</p>
        </div>
    </section>

    <!-- STAGE 3: THE BREATHS (10 Poems) -->
    <section id="breath1" class="breath-section">
        <video class="breath-video" autoplay loop muted playsinline>
            <source src="videos/1.mp4" type="video/mp4">
        </video>
        <div class="breath-overlay"></div>
        <div class="poem-frame">
            <p>The lie shattered our love, leaving nothing but regret and chaos.</p>
            <div class="poem-location">Street Pole</div>
        </div>
    </section>

    <section id="breath2" class="breath-section">
        <video class="breath-video" autoplay loop muted playsinline>
            <source src="videos/2.mp4" type="video/mp4">
        </video>
        <div class="breath-overlay"></div>
        <div class="poem-frame">
            <p>Hope fades with time, but memory keeps the past alive.</p>
            <div class="poem-location">Payment Terminal</div>
        </div>
    </section>

    <section id="breath3" class="breath-section">
        <video class="breath-video" autoplay loop muted playsinline>
            <source src="videos/3.mp4" type="video/mp4">
        </video>
        <div class="breath-overlay"></div>
        <div class="poem-frame">
            <p>Desire meets sadness when the future forgets its dreams.</p>
            <div class="poem-location">Poster Wall</div>
        </div>
    </section>

    <section id="breath4" class="breath-section">
        <video class="breath-video" autoplay loop muted playsinline>
            <source src="videos/4.mp4" type="video/mp4">
        </video>
        <div class="breath-overlay"></div>
        <div class="poem-frame">
            <p>Change steals our moment, yet habit brings it back again.</p>
            <div class="poem-location">Public Board</div>
        </div>
    </section>

    <section id="breath5" class="breath-section">
        <video class="breath-video" autoplay loop muted playsinline>
            <source src="videos/5.mp4" type="video/mp4">
        </video>
        <div class="breath-overlay"></div>
        <div class="poem-frame">
            <p>The distance between connection and mind is measured in time.</p>
            <div class="poem-location">Community Board</div>
        </div>
    </section>

    <section id="breath6" class="breath-section">
        <video class="breath-video" autoplay loop muted playsinline>
            <source src="videos/6.mp4" type="video/mp4">
        </video>
        <div class="breath-overlay"></div>
        <div class="poem-frame">
            <p>The wind crosses the ocean of silence, bringing back what we miss.</p>
            <div class="poem-location">Subway Window</div>
        </div>
    </section>

    <section id="breath7" class="breath-section">
        <video class="breath-video" autoplay loop muted playsinline>
            <source src="videos/7.mp4" type="video/mp4">
        </video>
        <div class="breath-overlay"></div>
        <div class="poem-frame">
            <p>Love touches the future through endless time.</p>
            <div class="poem-location">Cork Board</div>
        </div>
    </section>

    <section id="breath8" class="breath-section">
        <video class="breath-video" autoplay loop muted playsinline>
            <source src="videos/8.mp4" type="video/mp4">
        </video>
        <div class="breath-overlay"></div>
        <div class="poem-frame">
            <p>Rain remembers the truth that time tried to erase.</p>
            <div class="poem-location">Bench</div>
        </div>
    </section>

    <section id="breath9" class="breath-section">
        <video class="breath-video" autoplay loop muted playsinline>
            <source src="videos/9.mp4" type="video/mp4">
        </video>
        <div class="breath-overlay"></div>
        <div class="poem-frame">
            <p>The future forgets our regret but not our desire.</p>
            <div class="poem-location">Subway Platform</div>
        </div>
    </section>

    <section id="breath10" class="breath-section">
        <video class="breath-video" autoplay loop muted playsinline>
            <source src="videos/10.mp4" type="video/mp4">
        </video>
        <div class="breath-overlay"></div>
        <div class="poem-frame">
            <p>Rain is nature's tears; wind is nature's sigh.</p>
            <div class="poem-location">Park Bench</div>
        </div>
    </section>

    <!-- CHAPTER CARD II: THE FLOOD -->
    <section id="chapter-flood">
        <div class="chapter-title">
            <h3>II. The Flood</h3>
            <p>Return to the Torrent</p>
        </div>
    </section>

    <!-- STAGE 4: RETURN TO FLOOD (Grid) -->
    <section id="grid">
        <div class="grid-container">
            <div class="grid-item"><img src="images/1.png" alt="1"></div>
            <div class="grid-item"><img src="images/2.png" alt="2"></div>
            <div class="grid-item"><img src="images/3.png" alt="3"></div>
            <div class="grid-item"><img src="images/4.png" alt="4"></div>
            <div class="grid-item"><img src="images/5.png" alt="5"></div>
            <div class="grid-item"><img src="images/6.png" alt="6"></div>
            <div class="grid-item"><img src="images/7.png" alt="7"></div>
            <div class="grid-item"><img src="images/8.png" alt="8"></div>
            <div class="grid-item"><img src="images/9.png" alt="9"></div>
            <div class="grid-item"><img src="images/10.png" alt="10"></div>
        </div>
    </section>

    <!-- STAGE 5: DOCUMENTATION -->
    <section id="documentation">
        <div class="doc-header">
            <h2>Process</h2>
            <p>From Conception to Awakening</p>
        </div>
        <div class="timeline">
            <!-- Block 1: Conception -->
            <div class="timeline-item">
                <div class="timeline-content">
                    <h3>I. Conception — Dormant</h3>
                    <p><strong>The Method:</strong> I began by exploring the relationship between time, memory, emotion, and nature. Each sentence was crafted to function independently—a standalone moment of reflection. The constraint was simple: create black-and-white "breaths" that could pause the saturated, chaotic flood of urban information.</p>
                </div>
                <div class="timeline-media">
                    <img src="images/11.png" alt="Conception process">
                </div>
            </div>

            <!-- Block 2: Production -->
            <div class="timeline-item">
                <div class="timeline-content">
                    <h3>II. Production — Creation</h3>
                    <p><strong>Printing:</strong> The verses were printed on clean white paper with black ink. The process involved printing, cutting, and preparing multiple copies of each sentence—transforming digital text into physical interventions ready to enter public space.</p>
                </div>
                <div class="timeline-media">
                    <img src="images/12.png" alt="Production process">
                </div>
            </div>

            <!-- Block 3: Intervention -->
            <div class="timeline-item">
                <div class="timeline-content">
                    <h3>III. Intervention — Placement</h3>
                    <p><strong>Placing:</strong> Each poem was placed across downtown Toronto—on bulletin boards, subway windows, phone booths, park benches, and street poles. These placements were acts of trust: trusting that a private voice would meet an anonymous soul at an unexpected moment. The city became both canvas and witness.</p>
                </div>
                <div class="timeline-media">
                    <img src="images/13.png" alt="Intervention process">
                </div>
            </div>
        </div>
    </section>

    <!-- STAGE 6: REFLECTION -->
    <section id="reflection">
        <div class="reflection-left">
            <div class="reflection-gradient"></div>
        </div>
        <div class="reflection-right">
            <div class="reflection-content">
                <h2>In the noise of the city,<br>a poem creates<br>a space to breathe</h2>
                <p>This project began with a simple constraint: black and white against color, silence against the flood.</p>
                <p>But in placing these sentences, I discovered the power of chance. I cannot predetermine a moment—only create a possibility.</p>
                <p>Each intervention is an act of trust. Trust that this private voice will meet another soul at an unexpected moment.</p>
                <p>In that moment, the poem awakens. That one second of pause is the entire meaning of this project.</p>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer>
        <p>Xinrui Lyu<br>FA/PANF 2500 | Fall 2025<br>Project Three: Street Intervention — Public/Private Voice</p>
    </footer>

    <script>
        // ========== AUDIO MANAGEMENT ==========
        let cityAmbience = null;
        
        // Auto-play opening video and scroll cue
        window.addEventListener('load', () => {
            const openingVideo = document.querySelector('.opening-video');
            const scrollCue = document.querySelector('.scroll-cue');
            
            // Create audio element for city ambience
            cityAmbience = new Audio('videos/open.mp4'); // Using video audio
            cityAmbience.loop = true;
            cityAmbience.volume = 0;
            
            // Start video at credit 3 (12s)
            setTimeout(() => {
                openingVideo.classList.add('visible');
                openingVideo.play();
                
                // Start audio and fade in
                cityAmbience.play();
                fadeAudio(cityAmbience, 0, 0.3, 2000); // Fade to 30% volume over 2s
            }, 12000);
            
            // Show scroll cue (faster - at 13s)
            setTimeout(() => {
                scrollCue.classList.add('visible');
            }, 13000);
            
            // ========== SCROLL CUE CLICK INTERACTION ==========
            scrollCue.addEventListener('click', () => {
                const floodSection = document.getElementById('flood');
                floodSection.scrollIntoView({ 
                    behavior: 'smooth',
                    block: 'start'
                });
            });
        });

        // Audio fade utility
        function fadeAudio(audio, startVol, endVol, duration) {
            const steps = 50;
            const stepDuration = duration / steps;
            const volumeStep = (endVol - startVol) / steps;
            let currentStep = 0;
            
            audio.volume = startVol;
            
            const fadeInterval = setInterval(() => {
                currentStep++;
                audio.volume = Math.max(0, Math.min(1, audio.volume + volumeStep));
                
                if (currentStep >= steps) {
                    clearInterval(fadeInterval);
                    audio.volume = endVol;
                }
            }, stepDuration);
        }

        // ========== FLOOD SECTION: FADE OUT TRIGGER ==========
        const floodRight = document.querySelector('.flood-right');
        const floodSection = document.getElementById('flood');
        const chapterBreaths = document.getElementById('chapter-breaths');
        
        let floodFadedOut = false;
        
        floodRight.addEventListener('scroll', () => {
            if (floodFadedOut) return;
            
            const scrollHeight = floodRight.scrollHeight;
            const scrollTop = floodRight.scrollTop;
            const clientHeight = floodRight.clientHeight;
            
            // Trigger when scrolled near bottom (90% scrolled)
            if (scrollTop + clientHeight >= scrollHeight * 0.9) {
                floodFadedOut = true;
                triggerFloodFadeOut();
            }
        });
        
        function triggerFloodFadeOut() {
            // Step 1: Fade out flood section (visual + audio)
            floodSection.style.transition = 'opacity 1.5s ease-out';
            floodSection.style.opacity = '0';
            
            if (cityAmbience) {
                fadeAudio(cityAmbience, cityAmbience.volume, 0, 1500);
            }
            
            // Step 2: After fade out, pause (0.5s), then scroll to chapter
            setTimeout(() => {
                // Step 3: Scroll to chapter card
                chapterBreaths.scrollIntoView({ behavior: 'smooth' });
                
                // Make chapter visible
                setTimeout(() => {
                    chapterBreaths.classList.add('visible');
                }, 500);
            }, 1500);
        }

        // ========== INTERSECTION OBSERVER ==========
        const observerOptions = {
            threshold: 0.3,
            rootMargin: '0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    
                    // ⑨ Audio Peak when entering Flood section
                    if (entry.target.id === 'flood' && cityAmbience) {
                        fadeAudio(cityAmbience, cityAmbience.volume, 0.8, 1500); // Peak to 80%
                    }
                    
                    // ⑫ Silence audio when entering breath sections
                    if (entry.target.classList.contains('breath-section') && cityAmbience) {
                        fadeAudio(cityAmbience, cityAmbience.volume, 0, 800); // Instant silence
                    }
                    
                    // Audio returns when entering grid section
                    if (entry.target.id === 'grid' && cityAmbience) {
                        fadeAudio(cityAmbience, cityAmbience.volume, 0.6, 1500); // Back to 60%
                    }
                    
                    // Chapter cards
                    if (entry.target.id === 'chapter-flood' && cityAmbience) {
                        // Keep silent for chapter card
                        fadeAudio(cityAmbience, cityAmbience.volume, 0, 500);
                    }
                }
            });
        }, observerOptions);

        // Observe elements
        document.querySelectorAll('.flood-content, .breath-section, .timeline-item, .doc-header, #flood, #grid, #chapter-breaths, #chapter-flood').forEach(el => {
            observer.observe(el);
        });
    </script>

</body>
</html>
